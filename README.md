# processlog

[![IMAGE ALT TEXT HERE](https://jphacks.com/wp-content/uploads/2025/05/JPHACKS2025_ogp.jpg)](https://www.youtube.com/watch?v=lA9EluZugD8)

## 製品概要
`processlog`は、PC上の活動を自動的に記録し、可視化・要約することで、日々の業務や学習の振り返りを支援するシステムです。デスクトップアプリケーションが定期的にスクリーンショットを撮影し、Webアプリケーションがその情報を分析・整理します。

### 背景(製品開発のきっかけ、課題等）
日々のPC作業に集中していると、「何にどれくらいの時間を使ったか」が曖昧になりがちです。特に、複数のタスクを並行して進める現代のワークスタイルでは、正確な活動記録を手動で残すことは困難です。この課題を解決するため、PCアクティビティを自動で記録し、簡単な操作で振り返ることができる本製品を開発しました。

### 製品説明（具体的な製品の説明）
本システムは、以下の2つのコンポーネントで構成されています。

1.  **スクリーンショット・アプリケーション (Electron + Python):**
    ユーザーのローカルマシンで動作するデスクトップアプリです。バックグラウンドで定期的にスクリーンショットを撮影し、指定されたフォルダに保存します。ユーザーはアプリのUIから、撮影の開始・停止をコントロールできます。

2.  **Webアプリケーション (Next.js):**
    撮影されたスクリーンショットやその他のテキスト情報を分析・可視化するためのWebサービスです。Googleアカウントで認証し、以下のAPI機能を提供します。
    *   **差分検出API (`/api/diff`):** 2つのスクリーンショット画像を比較し、変更点を抽出して、その変化の重要度をスコアリングします。
    *   **活動要約API (`/api/summary`):** 複数のテキスト情報（例：OCRで抽出したテキスト）を時系列に沿って解釈し、自然な文章の活動記録として要約します。

### 特長
#### 1. 活動の自動記録
バックグラウンドでPC画面を自動撮影するため、ユーザーは特別な操作を意識することなく日々の活動を記録できます。

#### 2. 変更点の可視化
2つの画像を比較し、差分をハイライトすることで、作業の進捗や変化点を直感的に把握できます。

#### 3. 活動の自動要約
記録された断片的な情報から、一日の流れをまとめたレポートを自動生成。日報や議事録作成の手間を大幅に削減します。

### 解決出来ること
*   手作業による活動記録の煩わしさからの解放
*   「何に時間を使っているか」の客観的な可視化による生産性の向上
*   過去の作業内容の簡単な検索と振り返り

### 今後の展望
*   OCR機能の統合による、スクリーンショットからのテキスト情報自動抽出
*   アプリケーションごとの活動時間集計機能
*   プロジェクトやタスクと連携した活動分析機能
*   自然言語による高度な活動検索機能

### 注力したこと（こだわり等）
*   ユーザーが意識することなく利用できるよう、バックグラウンドでのシームレスな情報収集プロセスを構築した点。
*   ElectronとPython、Next.jsといった異なる技術スタックを連携させ、デスクトップでの情報収集からWebでの高度な分析までを一気通貫で実現したアーキテクチャ。
*   AI（大規模言語モデル）を活用し、単なる画像の差分検出やテキストの結合に留まらず、「重要度」のスコアリングや「活動の要約」といった付加価値の高い情報を提供するAPIを設計した点。

## 開発技術
### 活用した技術
#### API・データ
*   Next.js API Routes
*   Prisma (ORM)

#### フレームワーク・ライブラリ・モジュール
*   **Webアプリ:** Next.js, React, NextAuth.js
*   **デスクトップアプリ:** Electron, Next.js (Renderer)
*   **スクリーンショット撮影 (Backend):** Python, Flask, mss, Pillow

#### デバイス
*   PC (Windows, macOS, Linux)

### 独自技術
#### ハッカソンで開発した独自機能・技術
*   **画像差分分析API:** 2つの画像を比較し、変更点を抽出するだけでなく、その変化が持つ意味の重要度を0.0〜1.0の範囲でスコアリングする独自の評価ロジックを実装しました。これにより、ユーザーは大量のスクリーンショットの中から、注目すべき重要な変化を効率的に見つけ出すことができます。
    *   関連ファイル: `src/app/api/diff/route.ts`, `src/app/api/diff/developer-prompt.txt`
*   **時系列テキスト要約API:** 断片的なテキスト群を時系列や文脈に沿って解釈し、一つのまとまった活動記録としてMarkdown形式で生成する機能を開発しました。単なるテキストの結合ではなく、ストーリーとして再構成することで、人間が読みやすい自然な文章を生成します。
    *   関連ファイル: `src/app/api/summary/route.ts`, `src/app/api/summary/developer-prompt.txt`
*   **ハイブリッド・デスクトップアプリケーション:** ElectronのメインプロセスからPythonのバックエンドサーバーをサブプロセスとして管理し、Next.jsで構築されたUIからのリクエストに応じてスクリーンショット撮影を制御する仕組みを構築しました。これにより、Web技術の開発生産性と、PythonによるOSネイティブ機能（スクリーンショット）へのアクセスを両立させています。
    *   関連ファイル: `screenshot_program/`