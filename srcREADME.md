
このドキュメントは、`src` フォルダ内の各ファイルの役割を日本語で説明します。

### ファイル一覧と役割

- `main.js`
	- Electron のメインプロセスを実装します。
	- アプリ起動時に Python バックエンド（`backend/app.py`）をサブプロセスとして起動します。
	- `BrowserWindow` を作成し `screenshot.html` を読み込みます。
	- レンダラープロセスからの IPC を受け取り（`recording:start` / `recording:stop`）、
		バックエンドへ HTTP リクエストで開始／停止を伝えます。
	- 保存先パスはアプリ側で固定しており（プロジェクトルートの `screenshot` フォルダ）、
		レンダラーから送られてきた設定に対して保存先を上書きして送信します。

- `preload.js`
	- セキュリティを保ったまま、レンダラ（web コンテンツ）からメインプロセスへ安全にメソッドを公開します。
	- `window.api.startRecording(settings)` と `window.api.stopRecording()` を提供し、
		これらは内部で IPC を使ってメインプロセスへ委譲されます。

- `renderer.js`
	- `screenshot.html` 上の UI 操作を制御するフロントエンドスクリプトです。
	- 撮影間隔（`interval`）や解像度スケール（`resolution`）の入力を読み取り、
		「開始」ボタン押下で `window.api.startRecording(settings)` を呼び出します。
	- 「停止」ボタン押下で `window.api.stopRecording()` を呼び出します。
	- バックエンドからの応答メッセージを画面のステータス欄に表示します。

- `screenshot.html`
	- ユーザー向けのシンプルな UI（撮影間隔、解像度、開始／停止ボタン、ステータス表示）を提供します。
	- 保存先入力欄は削除されており、保存先はバックエンド／メインプロセス側で固定管理されます。

- `screenshot` フォルダ（プロジェクトルート直下）
	- 実際にスクリーンショット画像が保存される場所です。
	- アプリ起動時または録画開始時に自動でフォルダが作成されます（存在しない場合）。

### 動作確認手順（簡易）

# src フォルダのファイル説明

このドキュメントは、`src` フォルダ内の各ファイルの役割を日本語で説明します。

### ファイル一覧と役割

- `main.js`
  - Electron のメインプロセスを実装します。
  - アプリ起動時に Python バックエンド（`backend/app.py`）をサブプロセスとして起動します。
  - `BrowserWindow` を作成し `screenshot.html` を読み込みます。
  - レンダラープロセスからの IPC を受け取り（`recording:start` / `recording:stop`）、
    バックエンドへ HTTP リクエストで開始／停止を伝えます。
  - 保存先パスはアプリ側で固定しており（プロジェクトルートの `screenshot` フォルダ）、
    レンダラーから送られてきた設定に対して保存先を上書きして送信します。

- `preload.js`
  - セキュリティを保ったまま、レンダラ（web コンテンツ）からメインプロセスへ安全にメソッドを公開します。
  - `window.api.startRecording(settings)` と `window.api.stopRecording()` を提供し、
    これらは内部で IPC を使ってメインプロセスへ委譲されます。

- `renderer.js`
  - `screenshot.html` 上の UI 操作を制御するフロントエンドスクリプトです。
  - 撮影間隔（`interval`）や解像度スケール（`resolution`）の入力を読み取り、
    「開始」ボタン押下で `window.api.startRecording(settings)` を呼び出します。
  - 「停止」ボタン押下で `window.api.stopRecording()` を呼び出します。
  - バックエンドからの応答メッセージを画面のステータス欄に表示します。

- `screenshot.html`
  - ユーザー向けのシンプルな UI（撮影間隔、解像度、開始／停止ボタン、ステータス表示）を提供します。
  - 保存先入力欄は削除されており、保存先はバックエンド／メインプロセス側で固定管理されます。

- `screenshot` フォルダ（プロジェクトルート直下）
  - 実際にスクリーンショット画像が保存される場所です。
  - アプリ起動時または録画開始時に自動でフォルダが作成されます（存在しない場合）。

### 動作確認手順（簡易）

1. 依存関係をインストール（必要な場合）:

```powershell
npm install
```

2. アプリを起動:

```powershell
npm start
```

3. Electron ウィンドウで「開始」ボタンを押す。
4. ターミナルログに保存先フォルダ準備のメッセージが出力され、
   プロジェクトルートの `screenshot` フォルダに PNG ファイルが生成されることを確認します。

### 注意点

- Windows 環境では Python の実行コマンドが `py` で動作することを前提にしています。
  必要に応じて `src/main.js` のサブプロセス起動コマンド（`spawn`）を `python` や絶対パスに変更してください。
- Flask はデバッグリローダーをオフにして実行するように設定しています（サブプロセスとして実行するため）。

---

この README の内容を更新したい場合や、さらに詳細な仕様（エラーハンドリングや設定フォーマット等）を追記したい場合は教えてください。

